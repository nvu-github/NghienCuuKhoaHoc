<head>
  <link rel="stylesheet" href="./styles/main.css" />
  <link
    rel="stylesheet"
    href="./styles/bootstrap-4.1.3/dist/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous"
  />
  <link rel="stylesheet" href="./public/css/style.css" />
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <div class="col" style="padding: 0">
        <nav>
          <ul
            class="nav nav-tabs main_nav electron_black"
            id="myTab"
            role="tablist"
          >
            <li class="nav-item">
              <a
                class="nav-link active"
                id="home-tab"
                data-toggle="tab"
                href="#home"
                role="tab"
                aria-controls="home"
                aria-selected="true"
                >Gửi xe</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                id="contact-tab"
                data-toggle="tab"
                href="#contact"
                role="tab"
                aria-controls="contact"
                aria-selected="false"
                >Trả xe</a
              >
            </li>
          </ul>
        </nav>
        <div class="tab-content" id="myTabContent">
          <div
            class="tab-pane fade show active"
            id="home"
            role="tabpanel"
            aria-labelledby="home-tab"
          >
            <div id="licensePlateBox" class="p-3 col-md-12 main_border module">
                <div class="row">
                    <div class="col-md-5">
                        <div class="row">
                          <div
                            class="col-5 align-self-center licensePlate_container"
                            id="licensePlate_box">
                            <h4 class="text-center">Chọn biển số</h4>
                            <div class="col-md-12 text-center">
                                <img
                                class="w-100 mt-3 image_box"
                                id="licensePlate_origin"
                                src=""
                                alt="Chọn biển số xe gửi"
                                style="background-color: gray"/>
                            </div>

                            
                          </div>
                          <div class="col-2"></div>
                          <div class="col-5 align-self-center licensePlate_container">
                            <h4 class="text-center">Biển số xe gửi</h4>
                            <div class="col-md-12 text-center">
                                <img
                                class="w-100 mt-3 image_box"
                                id="licensePlate_identified"
                                src=""
                                alt="Thông tin biển sô xe gửi"
                                style="background-color: gray"
                                />
                            </div>
                          </div>
                        </div>
                    </div>
                    <div class="col-md-7 pl-5">
                        <div id="style-vegui">
                            <div class="row justify-content-center">
                                <h3 class="text-center">Vé gửi xe</h3>
                            </div>
                            <div class="row mt-4">
                              <div class="col-md-8"> 
                                <div class="row col-md-12 form-group">
                                    <label for="licensePlateText" class="col-md-3">Biển số xe:</label>
                                    <h4
                                    id="licensePlateText"
                                    class="text-center col-md-9 text-uppercaseclear"
                                    ></h4>
                                    <input
                                    type="text"
                                    class="col-md-9"
                                    id="input-nhaptay"
                                    placeholder=""
                                    value=""
                                    hidden/>
                                    <input
                                    type="text"
                                    class="form-control"
                                    id="inputLicensePlate"
                                    placeholder="Biển số"
                                    value="default"
                                    hidden/>
                                </div>
                                <div class="row col-md-12 form-group">
                                    <label for="typeTickets" class="col-md-3">Loại vé:</label>
                                    <select id="typeTickets" class="form-control col-md-5"></select>
                                    <button id="show-input-bienso" value="hieninput" class="col-md-3 ml-5 btn btn-default" type="button">Nhập biển số</button>
                                </div>

                                <div class="row col-md-12 form-group">
                                    <label for="typeTickets" class="col-md-3">Thời gian gửi:</label>
                                    <h5 class="text-center col-md-9" id="thoigianvao"></h5>
                                </div>
                                
                              </div>
                              <div class="col-md-4">
                                <img 
                                  src=""
                                  id="ticketImage"
                                  class="w-100 mb-3"
                                  alt="Mã QR biển số"
                                  style="background-color: gray"
                                />
                              </div>
                            </div>
                        </div>
                      </div>
                </div>
                <div class="row">
                    <div class="col-md-5 text-center">
                        <input
                            id="licensePlateInput"
                            type="file"
                            accept="image/*"
                            style="display: none"
                            onchange="licensePlateOrigin(event)"
                            />
                        <button class="btn btn-primary btn-tab1 w-100" id="btncheck" type="button">
                        Kiểm tra
                        </button>
                    </div>
                    <div class="col-md-7 text-center">
                        <button id="renderTicket" class="btn btn-info btn-tab1 w-100">Xác nhận gửi xe</button>
                    </div>
                </div>
            </div>
          </div>
          <div
            class="tab-pane fade"
            id="contact"
            role="tabpanel"
            aria-labelledby="contact-tab"
          >
            <div id="QrBox" class="m-3 main_border module">
                <div class="row">
                    <div class="col-4">
                        <h4 class="text-center mt-2 mb-4">Chọn mã QR biển số</h4>
                        <div
                          id="qr_box"
                          class="text-center"
                          style="width: 100%; min-height: 20vh; background-color: gray"
                        >
                          <img
                            class="w-50 image_box"
                            id="qr_origin"
                            src=""
                            alt="Qr image"
                            style="background-color: gray"
                          />
                        </div>
                          <input
                            id="qrinput"
                            type="file"
                            accept="image/*"
                            style="display: none"
                            onchange="qrOrigin(event)"
                          />
                      </div>
                      <div class="col-8">
                        <div class="row p-3">
                          <div class="col-md-12">
                            <div
                              class="px-3 text-center"
                              id="ticket-status_box">
                              <h4 style="margin-bottom: 50px;" class="text-center mt-3">Thông tin vé gửi</h4>
                              <div class="row justify-content-center mb-2">
                                <label for="licensePlateTextTicket" class="col-md-2">Biển số xe:</label>
                                <h4
                                  id="licensePlateTextTicket"
                                  class="text-center text-uppercaseclear col-md-5"
                                ></h4>
                              </div>
                              <div class="row justify-content-center mb-2">
                                <label for="timeTextTicket" class="col-md-2">Thời gian gửi:</label>
                                <h5 class="text-center col-md-5" id="timeTextTicket"></h5>
                              </div>
                              <div class="row justify-content-center mb-2">
                                <label for="timeTextTicket" class="col-md-2">Trạng thái:</label>
                                <p
                                    class="text-center text-danger col-md-5"
                                    id="ticket-status_text"
                                ></p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                </div>
                <div class="row">
                    <div class="col-4">
                        <div class="text-center">
                            <form id="qrForm" action="#">
                                <button class="btn btn-primary w-100 mt-3 btn-tab1" type="submit">
                                    Kiểm tra
                                </button>
                            </form>
                          </div>
                    </div>
                    <div class="col-2">
                      <div class="text-center">
                        <p id="text-notification"></p>
                      </div>
                    </div>
                    <div class="col-6">
                        <div class="text-center">
                            <button
                                id="vehicle_handing"
                                class="btn btn-success btn-tab1 mt-3"
                                disabled
                                data-id="">
                                Giao xe
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <hr />
            <div id="managerBox" class="row m-3 main_border module">
              <div class="col-md-12">
                <h3 class="text-center mb-4">Danh Sách Xe Gửi</h3>
                <table class="table table-bordered table-hover" id="ticket_table">
                  <thead class="">
                    <tr>
                      <th class="text-center" scope="col">STT</th>
                      <th class="text-center" scope="col">Biển số</th>
                      <th class="text-center" scope="col">Thời gian gửi</th>
                      <th class="text-center" scope="col">Trạng thái</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Insert this line above script imports  -->
  <script>
    if (typeof module === "object") {
      window.module = module;
      module = undefined;
    }
  </script>
  <script src="./node_modules/jquery/dist/jquery.min.js"></script>
  <script src="./connect.js"></script>
  <script src="./main.js"></script>
  <script src="./dom.js"></script>
  <script src="./styles/bootstrap-4.1.3/dist/js/bootstrap.min.js"></script>
  <script>
    $('a[data-toggle="tab"]').on("shown.bs.tab", function (e) {
      const activeTag = $(e.target); // newly activated tab
      const previousTag = $(e.relatedTarget); // previous active tab

      activeTag.addClass("electron_cyan");
      previousTag.removeClass("electron_cyan");
      listTickets()
    });
  </script>
  <script>
    if (window.module) module = window.module;
  </script>
</body>
